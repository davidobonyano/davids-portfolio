"use client";

import { createContext, useContext, useMemo, useState, ReactNode, useEffect } from "react";

export type Locale = "en" | "fr" | "es" | "de" | "pt" | "ar";

type Messages = Record<string, string>;

type LocaleContextType = {
  locale: Locale;
  t: (key: string) => string;
  setLocale: (loc: Locale) => void;
};

const LocaleContext = createContext<LocaleContextType | undefined>(undefined);

const MESSAGES: Record<Locale, Messages> = {
  en: {
    basedIn: "Based in Nigeria",
    qualityHeadline: "Quality {a} & {b} Synergy",
    design: "Design",
    webDev: "Web Development",
    intro: "Hi, I'm David. A full-stack developer with expertise in Next.js, React, Node.js, and TypeScript. I create intuitive, visually stunning and highly functional web applications that deliver exceptional user experiences.",
    seeMyWork: "See My Work →",
    viewCv: "View Resume",
    selectedWorks: "Selected Works",
    projectsForBrands: "Projects for brands and professional applications",
    projectsTab: "Projects",
    sideProjectsTab: "Side Projects",
    // nav
    nav_home: "home",
    nav_about: "about",
    nav_services: "services",
    nav_projects: "projects",
    nav_contact: "contact",
    // contact/footer/common
    letsConnect: "Let's Connect",
    getInTouch: "Get in Touch",
    haveProject: "Have a project in mind? Let's discuss how we can bring your ideas to life.",
    followMe: "Follow Me",
    availableForWork: "Available for Work",
    acceptingProjects: "Currently accepting new projects",
    sendMessage: "Send a Message",
    messageSent: "Message Sent!",
    thanksSoon: "Thank you for reaching out. I'll get back to you soon!",
    sending: "Sending...",
    fullName: "Full Name",
    fullNamePlaceholder: "Your full name",
    emailAddress: "Email Address",
    emailPlaceholder: "your.email@example.com",
    subject: "Subject",
    subjectPlaceholder: "What's this about?",
    message: "Message",
    messagePlaceholder: "Tell me about your project...",
    quickLinks: "Quick Links",
    backToTop: "Back to Top",
    email: "Email:",
    location: "Location:",
    status: "Status:",
    yearsExperience: "Years Experience",
    projectsCompleted: "Projects Completed",
    clientSatisfaction: "Client Satisfaction",
    available: "Available",
    technologiesWord: "Technologies",
    about_currentTechParagraph: "I'm proficient in a range of modern technologies that empower me to create exceptional digital experiences. From frontend frameworks to backend systems, I leverage cutting-edge tools to build scalable, performant applications that meet the highest standards of quality and user experience.",
    liveDemo: "Live Demo",
    code: "Code",
    project_1_description: "A Nigerian school platform (KG1–SS3) with admin, teacher, and student dashboards. Students can view payments, timetables, results, and upcoming exams. Admin has full CRUD across sessions, terms, classes, subjects, fees, and more; teachers upload results and manage class records.",
    project_2_description: "A job application tracker with drag & drop Kanban board (Applied → Interviewing → Offer → Rejected), contacts manager, and tasks. Fully client‑side with offline persistence.",
    project_3_description: "Official website for Nigeria's National Sugar Development Council featuring industry data, pricing, directories, and policy documentation.",
    project_4_description: "Service marketplace connecting users with verified local professionals across 13+ categories with geo‑filtering and ratings.",
    project_5_description: "Modern hospital site with appointments, services, doctor profiles, image sliders, and responsive design.",
    // Services section
    servicesTitle: "What I Can Build For You",
    ecommerceTitle: "E-commerce Stores",
    ecommerceDesc: "Complete online shops with payment processing, inventory management, and secure checkout",
    schoolTitle: "School Websites",
    schoolDesc: "Educational institution sites with student portals, course catalogs, and event management",
    businessTitle: "Business Websites",
    businessDesc: "Professional company sites that build trust and generate leads for your business",
    blogTitle: "Blog & Content Sites",
    blogDesc: "Content management systems for easy publishing and SEO-optimized articles",
    portfolioTitle: "Mobile Portfolios",
    portfolioDesc: "Personal and professional portfolios that showcase work beautifully on all devices",
    webappTitle: "Web Applications",
    webappDesc: "Custom business tools and dashboards to streamline your operations",
  },
  fr: {
    basedIn: "Basé au Nigeria",
    qualityHeadline: "Synergie {a} & {b} de qualité",
    design: "Design",
    webDev: "Développement Web",
    intro: "Salut, je suis David. Développeur full‑stack spécialisé en Next.js, React, Node.js et TypeScript. Je crée des applications web intuitives, esthétiques et performantes.",
    seeMyWork: "Voir mes projets →",
    viewCv: "Voir le CV",
    selectedWorks: "Travaux sélectionnés",
    projectsForBrands: "Projets pour des marques et des applications professionnelles",
    projectsTab: "Projets",
    sideProjectsTab: "Projets perso",
    nav_home: "accueil",
    nav_about: "à propos",
    nav_services: "services",
    nav_projects: "projets",
    nav_contact: "contact",
    letsConnect: "Contactons‑nous",
    getInTouch: "Entrer en contact",
    haveProject: "Un projet en tête ? Discutons de la meilleure façon de le réaliser.",
    followMe: "Suivez‑moi",
    availableForWork: "Disponible",
    acceptingProjects: "Actuellement ouvert aux nouveaux projets",
    sendMessage: "Envoyer un message",
    messageSent: "Message envoyé !",
    thanksSoon: "Merci pour votre message. Je vous répondrai rapidement.",
    sending: "Envoi...",
    fullName: "Nom complet",
    fullNamePlaceholder: "Votre nom complet",
    emailAddress: "Adresse e‑mail",
    emailPlaceholder: "votre.email@exemple.com",
    subject: "Objet",
    subjectPlaceholder: "De quoi s'agit‑il ?",
    message: "Message",
    messagePlaceholder: "Parlez‑moi de votre projet...",
    quickLinks: "Liens rapides",
    backToTop: "Haut de page",
    email: "E‑mail :",
    location: "Localisation :",
    status: "Statut :",
    yearsExperience: "Années d'expérience",
    projectsCompleted: "Projets réalisés",
    clientSatisfaction: "Satisfaction client",
    available: "Disponible",
    technologiesWord: "Technologies",
    about_currentTechParagraph: "Je maîtrise une gamme de technologies modernes qui me permettent de créer des expériences numériques exceptionnelles. Des frameworks frontend aux systèmes backend, j'utilise des outils de pointe pour concevoir des applications évolutives et performantes répondant aux plus hauts standards de qualité et d'expérience utilisateur.",
    liveDemo: "Démo en ligne",
    code: "Code",
    project_1_description: "Plateforme scolaire nigériane (KG1–SS3) avec tableaux de bord pour admin, enseignants et élèves. Paiements, emplois du temps, résultats, examens. L’admin gère sessions, trimestres, classes, matières, frais, etc.; les enseignants saisissent les notes et gèrent les classes.",
    project_2_description: "Suivi de candidatures avec tableau Kanban (Candidature → Entretien → Offre → Refus), gestion des contacts et tâches. 100 % côté client avec persistance hors ligne.",
    project_3_description: "Site officiel du Conseil national du sucre (NSDC) du Nigéria proposant données sectorielles, prix, annuaires et documents de politique.",
    project_4_description: "Marketplace de services reliant les utilisateurs à des professionnels vérifiés (13+ catégories) avec géo‑filtrage et avis.",
    project_5_description: "Site d'hôpital moderne avec prise de rendez‑vous, services, profils de médecins, carrousels d'images et design réactif.",
    // Services section
    servicesTitle: "Ce que je peux construire pour vous",
    ecommerceTitle: "Boutiques en ligne",
    ecommerceDesc: "Boutiques complètes avec traitement des paiements, gestion des stocks et paiement sécurisé",
    schoolTitle: "Sites d'écoles",
    schoolDesc: "Sites d'institutions éducatives avec portails étudiants, catalogues de cours et gestion d'événements",
    businessTitle: "Sites d'entreprises",
    businessDesc: "Sites d'entreprises professionnels qui inspirent confiance et génèrent des prospects",
    blogTitle: "Blogs et sites de contenu",
    blogDesc: "Systèmes de gestion de contenu pour une publication facile et des articles optimisés SEO",
    portfolioTitle: "Portfolios mobiles",
    portfolioDesc: "Portfolios personnels et professionnels qui mettent en valeur le travail sur tous les appareils",
    webappTitle: "Applications web",
    webappDesc: "Outils métier personnalisés et tableaux de bord pour rationaliser vos opérations",
  },
  es: {
    basedIn: "Con base en Nigeria",
    qualityHeadline: "Sinergia de {a} y {b} de calidad",
    design: "Diseño",
    webDev: "Desarrollo Web",
    intro: "Hola, soy David. Desarrollador full‑stack con experiencia en Next.js, React, Node.js y TypeScript. Creo aplicaciones web intuitivas, atractivas y de alto rendimiento.",
    seeMyWork: "Ver mi trabajo →",
    viewCv: "Ver CV",
    selectedWorks: "Trabajos seleccionados",
    projectsForBrands: "Proyectos para marcas y aplicaciones profesionales",
    projectsTab: "Proyectos",
    sideProjectsTab: "Proyectos paralelos",
    nav_home: "inicio",
    nav_about: "sobre mí",
    nav_services: "servicios",
    nav_projects: "proyectos",
    nav_contact: "contacto",
    letsConnect: "Conectemos",
    getInTouch: "Ponte en contacto",
    haveProject: "¿Tienes un proyecto? Hablemos de cómo hacerlo realidad.",
    followMe: "Sígueme",
    availableForWork: "Disponible para trabajar",
    acceptingProjects: "Actualmente acepto nuevos proyectos",
    sendMessage: "Enviar mensaje",
    messageSent: "¡Mensaje enviado!",
    thanksSoon: "Gracias por escribir. ¡Te responderé pronto!",
    sending: "Enviando...",
    fullName: "Nombre completo",
    fullNamePlaceholder: "Tu nombre completo",
    emailAddress: "Correo electrónico",
    emailPlaceholder: "tu.email@ejemplo.com",
    subject: "Asunto",
    subjectPlaceholder: "¿De qué se trata?",
    message: "Mensaje",
    messagePlaceholder: "Cuéntame sobre tu proyecto...",
    quickLinks: "Enlaces rápidos",
    backToTop: "Volver arriba",
    email: "Correo:",
    location: "Ubicación:",
    status: "Estado:",
    yearsExperience: "Años de experiencia",
    projectsCompleted: "Proyectos completados",
    clientSatisfaction: "Satisfacción del cliente",
    available: "Disponible",
    technologiesWord: "Tecnologías",
    about_currentTechParagraph: "Domino un conjunto de tecnologías modernas que me permiten crear experiencias digitales excepcionales. Desde frameworks de frontend hasta sistemas backend, utilizo herramientas de vanguardia para construir aplicaciones escalables y de alto rendimiento que cumplen con los más altos estándares de calidad y experiencia de usuario.",
    liveDemo: "Demostración",
    code: "Código",
    project_1_description: "Plataforma escolar en Nigeria (KG1–SS3) con paneles para admin, docentes y alumnos. Pagos, horarios, calificaciones y exámenes. El admin gestiona sesiones, trimestres, clases, materias y tarifas; los docentes cargan notas y gestionan registros.",
    project_2_description: "Rastreador de postulaciones con tablero Kanban (Postulado → Entrevista → Oferta → Rechazado), contactos y tareas. 100% cliente con persistencia offline.",
    project_3_description: "Sitio oficial del Consejo Nacional del Azúcar de Nigeria con datos del sector, precios, directorios y documentación de políticas.",
    project_4_description: "Mercado de servicios que conecta usuarios con profesionales verificados (13+ categorías) con filtro geográfico y valoraciones.",
    project_5_description: "Sitio de hospital moderno con citas, servicios, perfiles de doctores, carruseles de imágenes y diseño responsive.",
    // Services section
    servicesTitle: "Lo que puedo construir para ti",
    ecommerceTitle: "Tiendas en línea",
    ecommerceDesc: "Tiendas completas con procesamiento de pagos, gestión de inventario y pago seguro",
    schoolTitle: "Sitios escolares",
    schoolDesc: "Sitios de instituciones educativas con portales estudiantiles, catálogos de cursos y gestión de eventos",
    businessTitle: "Sitios empresariales",
    businessDesc: "Sitios empresariales profesionales que generan confianza y leads para tu negocio",
    blogTitle: "Blogs y sitios de contenido",
    blogDesc: "Sistemas de gestión de contenido para publicación fácil y artículos optimizados para SEO",
    portfolioTitle: "Portfolios móviles",
    portfolioDesc: "Portfolios personales y profesionales que muestran el trabajo perfectamente en todos los dispositivos",
    webappTitle: "Aplicaciones web",
    webappDesc: "Herramientas empresariales personalizadas y dashboards para optimizar tus operaciones",
  },
  de: {
    basedIn: "Mit Sitz in Nigeria",
    qualityHeadline: "Qualität {a} & {b} Synergie",
    design: "Design",
    webDev: "Webentwicklung",
    intro: "Hallo, ich bin David. Full‑Stack‑Entwickler mit Erfahrung in Next.js, React, Node.js und TypeScript. Ich entwickle intuitive, ansprechende und leistungsstarke Webanwendungen.",
    seeMyWork: "Meine Arbeit ansehen →",
    viewCv: "Lebenslauf ansehen",
    selectedWorks: "Ausgewählte Arbeiten",
    projectsForBrands: "Projekte für Marken und professionelle Anwendungen",
    projectsTab: "Projekte",
    sideProjectsTab: "Nebenprojekte",
    nav_home: "start",
    nav_about: "über mich",
    nav_services: "dienstleistungen",
    nav_projects: "projekte",
    nav_contact: "kontakt",
    letsConnect: "Lass uns vernetzen",
    getInTouch: "Kontakt aufnehmen",
    haveProject: "Haben Sie ein Projekt? Sprechen wir darüber, wie wir es umsetzen.",
    followMe: "Folge mir",
    availableForWork: "Verfügbar",
    acceptingProjects: "Aktuell neue Projekte möglich",
    sendMessage: "Nachricht senden",
    messageSent: "Nachricht gesendet!",
    thanksSoon: "Danke für Ihre Nachricht. Ich melde mich bald!",
    sending: "Senden...",
    fullName: "Vollständiger Name",
    fullNamePlaceholder: "Ihr vollständiger Name",
    emailAddress: "E‑Mail‑Adresse",
    emailPlaceholder: "ihr.email@beispiel.com",
    subject: "Betreff",
    subjectPlaceholder: "Worum geht es?",
    message: "Nachricht",
    messagePlaceholder: "Erzählen Sie mir von Ihrem Projekt...",
    quickLinks: "Schnellzugriff",
    backToTop: "Nach oben",
    email: "E‑Mail:",
    location: "Ort:",
    status: "Status:",
    yearsExperience: "Jahre Erfahrung",
    projectsCompleted: "Abgeschlossene Projekte",
    clientSatisfaction: "Kundenzufriedenheit",
    available: "Verfügbar",
    technologiesWord: "Technologien",
    about_currentTechParagraph: "Ich beherrsche eine Reihe moderner Technologien, mit denen ich außergewöhnliche digitale Erlebnisse schaffe. Von Frontend‑Frameworks bis zu Backendsystemen setze ich moderne Tools ein, um skalierbare und leistungsstarke Anwendungen zu entwickeln, die höchsten Ansprüchen an Qualität und User Experience genügen.",
    liveDemo: "Live-Demo",
    code: "Code",
    project_1_description: "Nigerianische Schulplattform (KG1–SS3) mit Dashboards für Admins, Lehrkräfte und Schüler. Zahlungen, Stundenpläne, Noten, Prüfungen. Admin verwaltet Sessions, Trimester, Klassen, Fächer, Gebühren; Lehrkräfte pflegen Noten und Klassenlisten.",
    project_2_description: "Bewerbungs‑Tracker mit Kanban (Beworben → Interview → Angebot → Abgelehnt), Kontakt‑ und Aufgabenverwaltung. Komplett clientseitig mit Offline‑Speicherung.",
    project_3_description: "Offizielle Website des National Sugar Development Council (NSDC) Nigerias mit Branchendaten, Preisen, Verzeichnissen und Richtlinien.",
    project_4_description: "Service‑Marktplatz, der Nutzer mit verifizierten lokalen Profis (13+ Kategorien) verbindet, inkl. Geo‑Filter und Bewertungen.",
    project_5_description: "Moderne Klinik‑Website mit Terminbuchung, Leistungen, Ärzteprofilen, Bild‑Slidern und Responsive Design.",
    // Services section
    servicesTitle: "Was ich für dich bauen kann",
    ecommerceTitle: "E‑Commerce Stores",
    ecommerceDesc: "Vollständige Online‑Shops mit Zahlungsabwicklung, Lagerverwaltung und sicherem Checkout",
    schoolTitle: "Schul‑Websites",
    schoolDesc: "Bildungseinrichtungs‑Sites mit Schülerportalen, Kurskatalogen und Event‑Management",
    businessTitle: "Unternehmens‑Websites",
    businessDesc: "Professionelle Firmen‑Sites, die Vertrauen schaffen und Leads generieren",
    blogTitle: "Blog & Content Sites",
    blogDesc: "Content‑Management‑Systeme für einfaches Publizieren und SEO‑optimierte Artikel",
    portfolioTitle: "Mobile Portfolios",
    portfolioDesc: "Persönliche und professionelle Portfolios, die Arbeit auf allen Geräten perfekt präsentieren",
    webappTitle: "Web‑Anwendungen",
    webappDesc: "Maßgeschneiderte Business‑Tools und Dashboards zur Optimierung deiner Abläufe",
  },
  pt: {
    basedIn: "Baseado na Nigéria",
    qualityHeadline: "Sinergia de {a} e {b} com qualidade",
    design: "Design",
    webDev: "Desenvolvimento Web",
    intro: "Olá, sou David. Desenvolvedor full‑stack com experiência em Next.js, React, Node.js e TypeScript. Crio aplicações web intuitivas, bonitas e altamente funcionais.",
    seeMyWork: "Ver meu trabalho →",
    viewCv: "Ver CV",
    selectedWorks: "Trabalhos selecionados",
    projectsForBrands: "Projetos para marcas e aplicações profissionais",
    projectsTab: "Projetos",
    sideProjectsTab: "Projetos paralelos",
    nav_home: "início",
    nav_about: "sobre",
    nav_services: "serviços",
    nav_projects: "projetos",
    nav_contact: "contato",
    letsConnect: "Vamos conversar",
    getInTouch: "Entre em contato",
    haveProject: "Tem um projeto? Vamos falar sobre como realizá‑lo.",
    followMe: "Siga‑me",
    availableForWork: "Disponível para trabalho",
    acceptingProjects: "Aceitando novos projetos",
    sendMessage: "Enviar mensagem",
    messageSent: "Mensagem enviada!",
    thanksSoon: "Obrigado pelo contato. Responderei em breve!",
    sending: "Enviando...",
    fullName: "Nome completo",
    fullNamePlaceholder: "Seu nome completo",
    emailAddress: "E‑mail",
    emailPlaceholder: "seu.email@exemplo.com",
    subject: "Assunto",
    subjectPlaceholder: "Sobre o que é?",
    message: "Mensagem",
    messagePlaceholder: "Conte‑me sobre seu projeto...",
    quickLinks: "Links rápidos",
    backToTop: "Voltar ao topo",
    email: "E‑mail:",
    location: "Localização:",
    status: "Status:",
    yearsExperience: "Anos de experiência",
    projectsCompleted: "Projetos concluídos",
    clientSatisfaction: "Satisfação do cliente",
    available: "Disponível",
    technologiesWord: "Tecnologias",
    about_currentTechParagraph: "Sou proficiente em uma gama de tecnologias modernas que me permitem criar experiências digitais excepcionais. Do frontend ao backend, utilizo ferramentas de ponta para construir aplicações escaláveis e de alto desempenho que atendem aos mais altos padrões de qualidade e experiência do usuário.",
    liveDemo: "Demo",
    code: "Código",
    project_1_description: "Plataforma escolar na Nigéria (KG1–SS3) com painéis para admin, professores e alunos. Pagamentos, horários, notas e exames. Admin gerencia sessões, períodos, turmas, disciplinas e taxas; professores lançam notas e gerenciam registros.",
    project_2_description: "Rastreador de vagas com Kanban (Candidatado → Entrevista → Oferta → Rejeitado), contatos e tarefas. 100% no cliente com persistência offline.",
    project_3_description: "Site oficial do Conselho Nacional do Açúcar da Nigéria com dados do setor, preços, diretórios e políticas.",
    project_4_description: "Marketplace de serviços conectando usuários a profissionais locais verificados (13+ categorias) com filtro geográfico e avaliações.",
    project_5_description: "Site hospitalar moderno com agendamento, serviços, perfis de médicos, sliders e design responsivo.",
    // Services section
    servicesTitle: "O que posso construir para você",
    ecommerceTitle: "Lojas online",
    ecommerceDesc: "Lojas completas com processamento de pagamentos, gestão de estoque e checkout seguro",
    schoolTitle: "Sites escolares",
    schoolDesc: "Sites de instituições educacionais com portais estudantis, catálogos de cursos e gestão de eventos",
    businessTitle: "Sites empresariais",
    businessDesc: "Sites empresariais profissionais que geram confiança e leads para seu negócio",
    blogTitle: "Blogs e sites de conteúdo",
    blogDesc: "Sistemas de gestão de conteúdo para publicação fácil e artigos otimizados para SEO",
    portfolioTitle: "Portfólios móveis",
    portfolioDesc: "Portfólios pessoais e profissionais que mostram o trabalho perfeitamente em todos os dispositivos",
    webappTitle: "Aplicações web",
    webappDesc: "Ferramentas de negócio personalizadas e dashboards para otimizar suas operações",
  },
  ar: {
    basedIn: "مقيم في نيجيريا",
    qualityHeadline: "تناغم {a} و{b} بجودة عالية",
    design: "تصميم",
    webDev: "تطوير الويب",
    intro: "مرحبًا، أنا ديفيد. مطوّر متكامل الخبرة في Next.js وReact وNode.js وTypeScript. أبني تطبيقات ويب بديهية وجميلة وعالية الأداء.",
    seeMyWork: "شاهد أعمالي →",
    viewCv: "عرض السيرة الذاتية",
    selectedWorks: "أعمال مختارة",
    projectsForBrands: "مشاريع للعلامات التجارية والتطبيقات الاحترافية",
    projectsTab: "المشاريع",
    sideProjectsTab: "مشاريع جانبية",
    nav_home: "الرئيسية",
    nav_about: "نبذة",
    nav_services: "الخدمات",
    nav_projects: "الأعمال",
    nav_contact: "تواصل",
    letsConnect: "لنتواصل",
    getInTouch: "تواصل معي",
    haveProject: "لديك مشروع؟ لنتحدث عن كيفية تنفيذه.",
    followMe: "تابعني",
    availableForWork: "متاح للعمل",
    acceptingProjects: "أقبل مشاريع جديدة حالياً",
    sendMessage: "أرسل رسالة",
    messageSent: "تم إرسال الرسالة!",
    thanksSoon: "شكرًا لتواصلك. سأرد عليك قريبًا!",
    sending: "جارٍ الإرسال...",
    fullName: "الاسم الكامل",
    fullNamePlaceholder: "اسمك الكامل",
    emailAddress: "البريد الإلكتروني",
    emailPlaceholder: "you@example.com",
    subject: "الموضوع",
    subjectPlaceholder: "ما الموضوع؟",
    message: "الرسالة",
    messagePlaceholder: "أخبرني عن مشروعك...",
    quickLinks: "روابط سريعة",
    backToTop: "العودة للأعلى",
    email: "البريد:",
    location: "الموقع:",
    status: "الحالة:",
    yearsExperience: "سنوات الخبرة",
    projectsCompleted: "المشاريع المنجزة",
    clientSatisfaction: "رضا العملاء",
    available: "متاح",
    technologiesWord: "التقنيات",
    about_currentTechParagraph: "أتقن مجموعة من التقنيات الحديثة التي تمكّنني من إنشاء تجارب رقمية مميزة. من أُطر الواجهة الأمامية إلى أنظمة الخلفية، أستخدم أدوات متقدمة لبناء تطبيقات قابلة للتوسع وعالية الأداء تفي بأعلى معايير الجودة وتجربة المستخدم.",
    liveDemo: "عرض حي",
    code: "الكود",
    project_1_description: "منصة مدرسية في نيجيريا (KG1–SS3) مع لوحات تحكم للإدارة والمعلمين والطلاب. مدفوعات وجداول ونتائج وامتحانات. للإدارة صلاحيات إدارة كاملة للفصول والمواد والرسوم وغيرها؛ والمعلمون يرفعون الدرجات ويديرون السجلات.",
    project_2_description: "متتبع طلبات بوظائف كانبان (مقدَّم → مقابلة → عرض → مرفوض)، وإدارة جهات اتصال ومهام. يعمل كليًا على الواجهة مع حفظ دون اتصال.",
    project_3_description: "الموقع الرسمي لمجلس تنمية السكر الوطني في نيجيريا مع بيانات الصناعة والأسعار والدلائل والوثائق التنظيمية.",
    project_4_description: "سوق خدمات يربط المستخدمين بمحترفين محليين موثّقين (أكثر من 13 فئة) مع ترشيح جغرافي وتقييمات.",
    project_5_description: "موقع مستشفى حديث مع حجز مواعيد وخدمات وبروفايلات أطباء وعارض صور وتصميم متجاوب.",
    // Services section
    servicesTitle: "ما يمكنني بناؤه لك",
    ecommerceTitle: "متاجر إلكترونية",
    ecommerceDesc: "متاجر كاملة مع معالجة المدفوعات وإدارة المخزون ودفع آمن",
    schoolTitle: "مواقع المدارس",
    schoolDesc: "مواقع المؤسسات التعليمية مع بوابات الطلاب وفهارس الدورات وإدارة الأحداث",
    businessTitle: "مواقع الأعمال",
    businessDesc: "مواقع شركات احترافية تبني الثقة وتولد العملاء المحتملين لعملك",
    blogTitle: "المدونات ومواقع المحتوى",
    blogDesc: "أنظمة إدارة المحتوى للنشر السهل والمقالات المحسنة لمحركات البحث",
    portfolioTitle: "المحافظ المحمولة",
    portfolioDesc: "المحافظ الشخصية والمهنية التي تعرض العمل بشكل جميل على جميع الأجهزة",
    webappTitle: "تطبيقات الويب",
    webappDesc: "أدوات الأعمال المخصصة ولوحات التحكم لتبسيط عملياتك",
  },
};

export function LocaleProvider({ children }: { children: ReactNode }) {
  // Start with 'en' to match SSR output, then upgrade client-side after mount
  const [locale, setLocale] = useState<Locale>("en");

  useEffect(() => {
    if (typeof window !== "undefined") {
      // On mount, read stored preference and apply it without depending on current state
      const stored = (localStorage.getItem("locale") as Locale) || "en";
      setLocale(stored);
      document.documentElement.dir = stored === "ar" ? "rtl" : "ltr";
      document.documentElement.lang = stored;
      localStorage.setItem("locale", stored);
    }
  }, []);

  useEffect(() => {
    if (typeof window !== "undefined") {
      document.documentElement.dir = locale === "ar" ? "rtl" : "ltr";
      document.documentElement.lang = locale;
      localStorage.setItem("locale", locale);
    }
  }, [locale]);

  const t = useMemo(() => {
    const dict = MESSAGES[locale];
    return (key: string) => dict[key] ?? key;
  }, [locale]);

  const value = useMemo(() => ({ locale, t, setLocale }), [locale, t]);
  return <LocaleContext.Provider value={value}>{children}</LocaleContext.Provider>;
}

export function useLocale() {
  const ctx = useContext(LocaleContext);
  if (!ctx) throw new Error("useLocale must be used within LocaleProvider");
  return ctx;
}


